<!--
  Generated template for the Resumen page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Material usado en el proyecto</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="cerrar()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div *ngFor="let producto of productos">
    <ion-item>
      <ion-label>
        {{producto.nombre}}
        <p *ngIf="producto.tipo == 1 || producto.tipo == 2">{{producto.pzasTotales}} {{producto.txt1}} a {{producto.precio | currency:'USD':true:'1.2-2'}}</p>
        <p *ngIf="producto.tipo == 0">{{producto.pzas}} {{producto.txt1}} x {{producto.medida2}} {{producto.txt1}} a {{producto.precio | currency:'USD':true:'1.2-2'}}</p>
        <p *ngIf="producto.tipo == 0">{{producto.pzasTotales}} m<sup>2</sup></p>
        <p *ngIf="producto.lugarCompra !='' ">{{producto.lugarCompra}}</p>
        <p *ngIf="producto.tipo == 1 || producto.tipo == 2">Quedan: {{producto.pzas}} {{producto.txt1}}</p>
        <p *ngIf="producto.tipo == 0">Quedan: {{producto.m2}} m<sup>2</sup></p>
      </ion-label>
      <ion-toggle [(ngModel)]="producto.activo" (ionChange)="cambio()"></ion-toggle>
    </ion-item>
    <ion-item *ngIf="producto.activo == true" no-lines>
      
      <ion-input type="number" placeholder="Piezas ocupadas" [(ngModel)]="producto.cantidad" *ngIf="producto.tipo == 1" (input)="cambio()"></ion-input>
      <ion-input type="number" placeholder="Metros ocupados" [(ngModel)]="producto.cantidad" *ngIf="producto.tipo == 2" (input)="cambio()"></ion-input>
      
      <ion-list *ngIf="producto.tipo == 0">
        <ion-item>
          <ion-input type="number" placeholder="Metros ocupados (largo)" [(ngModel)]="producto.cantidad1" (input)="cambio()"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="number" placeholder="Metros ocupados (ancho)" [(ngModel)]="producto.cantidad2" (input)="cambio()"></ion-input>
        </ion-item>
      </ion-list>
      
      
    </ion-item>
    <ion-item *ngIf="producto.pas == true && producto.activo == true" no-lines>
      <small>*Ya se paso</small>
    </ion-item>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <button ion-button (click)="guardar()" [disabled]="btnDisabled">Aceptar</button>
  </ion-toolbar>
</ion-footer>